<!DOCTYPE html>
<html ng-app="MyApp">
  <head>
    <title>Zeto pracownicy</title>
    <meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/bootstrap.min.css">
	<style>
		.center-block {
			float: none;
		}
	</style>
  </head>
 
  <body ng-controller="AppCtrl" style="background-color : #2ba6cb" >
	<script src="js/angular.min.js"></script>
	<script src="https://code.jquery.com/jquery-2.2.4.min.js"   integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44="   crossorigin="anonymous"></script>
	<script src="js/bootstrap.min.js"></script>
	<script src="controllers/controller.js"></script>
	<script src="css/app.css"></script>
	 <script src="http://momentjs.com/downloads/moment.js"></script>
	 <script data-require="angular.js@1.4.x" src="https://code.angularjs.org/1.4.0-rc.2/angular.js" data-semver="1.4.0-rc.2"></script>
    
	<div class="container">
		<div class="row">
			<div class="col-sm-10 center-block">
				<h1 class="text-center">Historia logowania</h1>
				<br>
					<div class="input-group">
						<span class="input-group-addon">Szukaj: </span>
						<input type="text" class="form-control" placeholder="czego szukasz?" ng-model="wyszukiwarka">
					</div>
				</br>
				<br>
				<div class="table-responsive">
					<table class="table table-hover" style="color: black">
						<thead>
							<tr>
							<th ng-repeat="heading in [
								'Imiê', 'Nazwisko' , 'godzina w³¹czenia', 'godzina wy³¹czenia', 'data', 'action'
							]">
							{{heading}}
							</th>
							</tr>
						</thead>
						<tbody>
							<tr>
								<td align="center" valign="middle"><input class='form-control' ng-model='worker.Name'></td>
								<td align="center" valign="middle"><input class='form-control' ng-model='worker.Surname'></td>
								<td align="center" valign="middle" id="time"><input type='time' class='form-control' ng-model='worker.Time_on'></td>
								<td align="center" valign="middle" id="time2"><input class='form-control' ng-model='worker.Time_off' disabled></td>
								<td align="center" valign="middle" id="date"><input class='form-control' ng-model='worker.date' disabled></td>
								<td>%%IP%%</td>
								<td><button class='btn btn-primary' ng-click='addWorker()'>Add</button></td>
							</tr>
							<tr ng-repeat="person in workerlog | filter : wyszukiwarka">
								<td>{{person.Name}}</td>
								<td>{{person.Surname}}</td>
								<td>{{person.Time_on}}</td>
								<td>{{person.Time_off}}</td>
								<td>{{person.Date}}</td>
								<td><button class="btn btn-danger" ng-click='remove
								(person._id)'>Remove</button></td>
							</tr>
						</tbody>
					</table>
				</div>
				</br>
			</div>
		</div>
	</div>
	<script>
function checkTime(i) {
    if (i < 10) {
        i = "0" + i;
    }
    return i;
}

function startTime() {
    var today = new Date();
    var h = today.getHours();
    var m = today.getMinutes();
    var s = today.getSeconds();
	var y = today.getFullYear();
	var mo = today.getMonth();
	var d = today.getDate();
    // add a zero in front of numbers<10
    m = checkTime(m);
    s = checkTime(s);
    document.getElementById('time').innerHTML = h + ":" + m + ":" + s;
	document.getElementById('time2').innerHTML = (h+8) + ":" + m + ":" + s;
	document.getElementById('date').innerHTML = d + "." + (mo+1) + "." + y;
    t = setTimeout(function () {
        startTime()
    }, 500);
}
startTime();
	</script>
  </body>
</html>
